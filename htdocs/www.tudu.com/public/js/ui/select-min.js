if(undefined!==UI){UI.SingleSelect=UI.extend(UI.Component,{_input:null,_options:null,_isShow:false,init:function(){this._options=[];if(this._config.select){var a=this._config.select;if(typeof a=="string"){a=UI.Dom.get(a)}this._input=a;a.find("option").each(function(){this.addOption({value:this.value,text:this.innerText})})}else{if(typeof this._config.name=="string"){this._input=UI.Dom.convert('<input type="hidden" name="'+this._config.name+'" />')}}if(this._config.options&&UI.isArray(this._config.options)){for(var b=0,d=this._config.options;b<d;b++){this.addOption(this._config.options[b])}}if(this._config.scope){this._scope=this._config.scope}},addOption:function(a){if(typeof a=="object"){this._options[this._options.length]=a}return this},select:function(b){for(var a=0,d=this._options.length;a<d;a++){if(b==this._options[a].value){this._input.val(b);this.updateSelectText(this._options[a]);break}}return this},updateSelectText:function(a){if(this._isRendered&&this._textCt){this._textCt.innerText=a.text}return this},appendSelectOption:function(a){},isShow:function(a){if(undefined!==a){this._isShow=a}return this._isShow},getMenu:function(){if(this._menu){return this._menu}return null},showMenu:function(){this._menu.show();this.isShow(true);this.triggerEvent("show");return this},hideMenu:function(){this._menu.hide();this.isShow(false);this.triggerEvent("hide");return this},toggleMenu:function(){if(this.isShow()){this.hideMenu()}else{this.showMenu()}return this},_render:function(){this._el=UI.Dom.convert('<div class="'+UI.clsPfx+'select"><span class="'+UI.clsPfx+'select-arrow"></span></div>',this._scope);this._textCt=UI.Dom.convert('<span class="'+UI.clsPfx+'text"></span>',this._scope);this._menu=UI.Dom.convert('<div class="'+UI.clsPfx+'select-menu"></div>',this._scope);if(this._config.defaultText){this._textCt.text(this._config.defaultText)}var g=[];for(var d=0,f=this._options.length;d<f;d++){var b=this._options[d],a=['<div class="'+UI.clsPfx+'select-option" _value="'+this._options[d].value+'"></div class="'+UI.clsPfx+'-select-option-body">'];if(b.body){a[a.length]=b.body}else{if(b.text){a[a.length]=b.text}}a[a.length]="</div></div>";g[g.length]=a.join("")}this._menu.html(g.join(""));this._el.prepend(this._textCt);var e=this._id;this._el.bind("click",function(){var c=UI.get(e);c.toggleMenu();c.triggerEvent("click")});Dom.get(this._el).bind("blur",function(){var c=UI.get(e);c.hideMenu()})}})};
